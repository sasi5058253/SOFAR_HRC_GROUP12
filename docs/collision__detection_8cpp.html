<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HumanRobotCollaboration: src/collision_detection.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HumanRobotCollaboration
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">SofAR assigment 1 - Group 1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">collision_detection.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Node performing periodic collision detection.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &lt;ros/console.h&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;gtest/gtest.h&gt;</code><br />
<code>#include &lt;Eigen/Dense&gt;</code><br />
<code>#include &quot;fcl/fcl.h&quot;</code><br />
<code>#include &quot;fcl/narrowphase/collision_object.h&quot;</code><br />
<code>#include &quot;fcl/narrowphase/distance.h&quot;</code><br />
<code>#include &quot;fcl/narrowphase/distance_request.h&quot;</code><br />
<code>#include &quot;fcl/narrowphase/distance_result.h&quot;</code><br />
<code>#include &quot;fcl/broadphase/default_broadphase_callbacks.h&quot;</code><br />
<code>#include &lt;tf2_ros/transform_listener.h&gt;</code><br />
<code>#include &lt;geometry_msgs/TransformStamped.h&gt;</code><br />
<code>#include &quot;urdf/model.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_link_8h_source.html">sofar_hbc_01/Link.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">sofar_hbc_01/utils.h</a>&quot;</code><br />
<code>#include &quot;sofar_hbc_01/CollisionDetectionToggle.h&quot;</code><br />
<code>#include &quot;sofar_hbc_01/CollisionDetectionResult.h&quot;</code><br />
<code>#include &quot;human_baxter_collaboration/BaxterStopTrajectory.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for collision_detection.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="collision__detection_8cpp__incl.png" border="0" usemap="#src_2collision__detection_8cpp" alt=""/></div>
<map name="src_2collision__detection_8cpp" id="src_2collision__detection_8cpp">
<area shape="rect" title="Node performing periodic collision detection." alt="" coords="1060,5,1254,32"/>
<area shape="rect" title=" " alt="" coords="188,273,267,300"/>
<area shape="rect" title=" " alt="" coords="35,87,143,114"/>
<area shape="rect" title=" " alt="" coords="522,273,600,300"/>
<area shape="rect" title=" " alt="" coords="189,177,293,203"/>
<area shape="rect" title=" " alt="" coords="318,177,420,203"/>
<area shape="rect" title=" " alt="" coords="1783,273,1854,300"/>
<area shape="rect" title=" " alt="" coords="445,169,629,211"/>
<area shape="rect" title=" " alt="" coords="633,87,830,114"/>
<area shape="rect" title=" " alt="" coords="855,80,1040,121"/>
<area shape="rect" title=" " alt="" coords="1064,80,1250,121"/>
<area shape="rect" title=" " alt="" coords="1274,80,1459,121"/>
<area shape="rect" title=" " alt="" coords="1484,87,1686,114"/>
<area shape="rect" title=" " alt="" coords="1710,87,1977,114"/>
<area shape="rect" title=" " alt="" coords="2002,87,2107,114"/>
<area shape="rect" href="_link_8h.html" title="Class definition of the Link item." alt="" coords="458,87,608,114"/>
<area shape="rect" href="utils_8h.html" title="Utility functions definition." alt="" coords="1109,177,1261,203"/>
<area shape="rect" title=" " alt="" coords="2234,80,2464,121"/>
<area shape="rect" title=" " alt="" coords="2488,80,2719,121"/>
<area shape="rect" title=" " alt="" coords="2744,80,2952,121"/>
<area shape="rect" title=" " alt="" coords="624,273,799,300"/>
<area shape="rect" title=" " alt="" coords="754,177,930,203"/>
<area shape="rect" title=" " alt="" coords="955,177,1082,203"/>
<area shape="rect" title=" " alt="" coords="1324,266,1542,307"/>
<area shape="rect" title=" " alt="" coords="1566,259,1758,315"/>
<area shape="rect" title=" " alt="" coords="823,266,1051,307"/>
<area shape="rect" title=" " alt="" coords="1076,273,1300,300"/>
</map>
</div>
</div>
<p><a href="collision__detection_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acbcd3f3e2622cfe45339bf773ed8d069"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#acbcd3f3e2622cfe45339bf773ed8d069">Real</a> = typename fcl::constants&lt; double &gt;::<a class="el" href="collision__detection_8cpp.html#acbcd3f3e2622cfe45339bf773ed8d069">Real</a></td></tr>
<tr class="separator:acbcd3f3e2622cfe45339bf773ed8d069"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6a843ed14dfff51a4094a78539a72dd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a6a843ed14dfff51a4094a78539a72dd5">setCollisionL</a> (bool collision)</td></tr>
<tr class="separator:a6a843ed14dfff51a4094a78539a72dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1566e54f34c0a8af10e32a4363e25f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#aa1566e54f34c0a8af10e32a4363e25f7">setCollisionR</a> (bool collision)</td></tr>
<tr class="separator:aa1566e54f34c0a8af10e32a4363e25f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f2ec5e12c76b29e7c092d92cb1c22d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#aa1f2ec5e12c76b29e7c092d92cb1c22d">toggleCD</a> (sofar_hbc_01::CollisionDetectionToggle::Request &amp;req, sofar_hbc_01::CollisionDetectionToggle::Response &amp;res)</td></tr>
<tr class="separator:aa1f2ec5e12c76b29e7c092d92cb1c22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8edfce21ca7b99b29d36d7cde33294b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a8edfce21ca7b99b29d36d7cde33294b2">collisionCheck</a> (const ros::TimerEvent &amp;)</td></tr>
<tr class="separator:a8edfce21ca7b99b29d36d7cde33294b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67078a482a34dacf7e81a473ab6037ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a67078a482a34dacf7e81a473ab6037ff">fillMap</a> (std::vector&lt; std::string &gt; v_link_names, std::map&lt; std::string, <a class="el" href="class_link.html">Link</a> &gt; &amp;map_arm, const std::string model_name)</td></tr>
<tr class="separator:a67078a482a34dacf7e81a473ab6037ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0c4c3619b251c2e2cc261235d2f73c99"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a0c4c3619b251c2e2cc261235d2f73c99">human_urdf</a> = std::string(&quot;human_description&quot;)</td></tr>
<tr class="separator:a0c4c3619b251c2e2cc261235d2f73c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f27eb8339393aaa28ee32195b47daae"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a2f27eb8339393aaa28ee32195b47daae">baxter_urdf</a> = std::string(&quot;baxter_description&quot;)</td></tr>
<tr class="separator:a2f27eb8339393aaa28ee32195b47daae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4ff1631660b599e319608e6bfffd9b"><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#abf4ff1631660b599e319608e6bfffd9b">check_period_</a> = 0.02</td></tr>
<tr class="separator:abf4ff1631660b599e319608e6bfffd9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7438bc5a2b0cb930761b4660481c553"><td class="memItemLeft" align="right" valign="top">const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#aa7438bc5a2b0cb930761b4660481c553">bxtr_wrist_ext_len</a> = 0.2</td></tr>
<tr class="separator:aa7438bc5a2b0cb930761b4660481c553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c59a6362c45b755bbda185a496d6a4"><td class="memItemLeft" align="right" valign="top">tf2_ros::Buffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a43c59a6362c45b755bbda185a496d6a4">tfBuffer</a></td></tr>
<tr class="separator:a43c59a6362c45b755bbda185a496d6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b34afe273f558ccefecf3dfe0534c4"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; tf2_ros::TransformListener &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#ab3b34afe273f558ccefecf3dfe0534c4">tfListener</a></td></tr>
<tr class="separator:ab3b34afe273f558ccefecf3dfe0534c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71bdf824483039adbb781e5e15b13113"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="class_link.html">Link</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a71bdf824483039adbb781e5e15b13113">human_arms</a></td></tr>
<tr class="separator:a71bdf824483039adbb781e5e15b13113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6658b7ebda3632b91e9018515a8740"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="class_link.html">Link</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#acf6658b7ebda3632b91e9018515a8740">bxtr_armL</a></td></tr>
<tr class="separator:acf6658b7ebda3632b91e9018515a8740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a6bb2883b0743eaba17cc35a82f054"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="class_link.html">Link</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#ab6a6bb2883b0743eaba17cc35a82f054">bxtr_armR</a></td></tr>
<tr class="separator:ab6a6bb2883b0743eaba17cc35a82f054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392b9de5460150db591e64755a009629"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a392b9de5460150db591e64755a009629">human_bxtr_dist_th_</a> = 0.07</td></tr>
<tr class="separator:a392b9de5460150db591e64755a009629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1cba1c8cb421d8b75f231b2aee95c58"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#ad1cba1c8cb421d8b75f231b2aee95c58">bxtr_bxtr_dist_th_</a> = 0.08</td></tr>
<tr class="separator:ad1cba1c8cb421d8b75f231b2aee95c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d55ae02f8225e93f499aac2bb9b78c"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; fcl::BroadPhaseCollisionManagerf &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a07d55ae02f8225e93f499aac2bb9b78c">mngr_human</a></td></tr>
<tr class="separator:a07d55ae02f8225e93f499aac2bb9b78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed98eefe5cb906184a9764ba31bd41f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; fcl::BroadPhaseCollisionManagerf &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#aeed98eefe5cb906184a9764ba31bd41f">mngr_bxtrL</a></td></tr>
<tr class="separator:aeed98eefe5cb906184a9764ba31bd41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76791c8d8556befe58042830c067d93c"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; fcl::BroadPhaseCollisionManagerf &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a76791c8d8556befe58042830c067d93c">mngr_bxtrR</a></td></tr>
<tr class="separator:a76791c8d8556befe58042830c067d93c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4d4de383cc0ee789b1c0e7102e359b"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a3e4d4de383cc0ee789b1c0e7102e359b">stop_pub</a></td></tr>
<tr class="separator:a3e4d4de383cc0ee789b1c0e7102e359b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae50959d250cf58b80a9a065f64f88a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a5ae50959d250cf58b80a9a065f64f88a">cd_on_L</a> = true</td></tr>
<tr class="separator:a5ae50959d250cf58b80a9a065f64f88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac396ceb6e9dfd216671c7a63f7cff1c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#ac396ceb6e9dfd216671c7a63f7cff1c9">cd_on_R</a> = true</td></tr>
<tr class="separator:ac396ceb6e9dfd216671c7a63f7cff1c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd4953d258da9936fc9333d9015ba76"><td class="memItemLeft" align="right" valign="top">ros::ServiceClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a9cd4953d258da9936fc9333d9015ba76">client_cd_res_L</a></td></tr>
<tr class="separator:a9cd4953d258da9936fc9333d9015ba76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbb17b63b258cc7bc57b108e5a40a0f"><td class="memItemLeft" align="right" valign="top">ros::ServiceClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="collision__detection_8cpp.html#a5bbb17b63b258cc7bc57b108e5a40a0f">client_cd_res_R</a></td></tr>
<tr class="separator:a5bbb17b63b258cc7bc57b108e5a40a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Node performing periodic collision detection. </p>
<dl class="section author"><dt>Author</dt><dd>Marco Gabriele Fedozzi (<a href="#" onclick="location.href='mai'+'lto:'+'508'+'33'+'65@'+'st'+'ude'+'nt'+'i.u'+'ni'+'ge.'+'it'; return false;">50833<span style="display: none;">.nosp@m.</span>65@s<span style="display: none;">.nosp@m.</span>tuden<span style="display: none;">.nosp@m.</span>ti.u<span style="display: none;">.nosp@m.</span>nige.<span style="display: none;">.nosp@m.</span>it</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14/06/2021</dd></dl>
<p><b>ServiceServer:</b><br  />
 <code>/baxter/collision_detection/toggle</code> (sofar_hbc_01::CollisionDetectionToggle)<br  />
</p>
<p><b>ServiceClient:</b><br  />
 <code>/baxter/collision_detection/left/result</code> (sofar_hbc_01::CollisionDetectionResult)<br  />
</p>
<p><b>ServiceClient:</b><br  />
 <code>/baxter/collision_detection/right/result</code> (sofar_hbc_01::CollisionDetectionResult)<br  />
</p>
<p><b>Publishes to:</b><br  />
 <code>/baxter_moveit_trajectory/stop</code> (human_baxter_collaboration::BaxterStopTrajectory)<br  />
</p>
<p><b>Subscribes to:</b><br  />
 <code>/tf</code> (tf2_msgs::TFMessage)<br  />
 <code>/tf_static</code> (tf2_msgs::TFMessage)<br  />
</p>
<p>Description:</p>
<p>This node holds an inner representation of the Baxter and Human arms using data from urdfs (the official Baxter one and a custom human one) to generate cylinder links. Using the Flexible Collision Library tools, these cylinders are treated as CollisionObjects and stored in three managers groups:</p><ol type="1">
<li>Human arms</li>
<li>Baxter left arm</li>
<li>Baxter right arm A periodic callback (50Hz) retrieves the data of the baxter and human joints from <code>/tf</code>, using the positions and orientations to update the CollisionObjects. It then performs distance checks between the three managers, considering a collision as possible if the distance gets lower then an arbitrary threshold. In that case a message is published on <code>/baxter_moveit_trajectory/stop</code> in order to make the Unity simulation (or, ideally, the robot controller) stop. At the same time a service request is issued to the <a class="el" href="class_f_s_m.html">FSM</a> of the arm(s) involved in the collision, with a notion of the "severity" of the collision, which can thus be served by different recovery policies. The collision detection can be enabled or disabled upon request (which might be necessary) for some recovery policies. </li>
</ol>

<p class="definition">Definition in file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="acbcd3f3e2622cfe45339bf773ed8d069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcd3f3e2622cfe45339bf773ed8d069">&#9670;&nbsp;</a></span>Real</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="collision__detection_8cpp.html#acbcd3f3e2622cfe45339bf773ed8d069">Real</a> =  typename fcl::constants&lt;double&gt;::<a class="el" href="collision__detection_8cpp.html#acbcd3f3e2622cfe45339bf773ed8d069">Real</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00086">86</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8edfce21ca7b99b29d36d7cde33294b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8edfce21ca7b99b29d36d7cde33294b2">&#9670;&nbsp;</a></span>collisionCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collisionCheck </td>
          <td>(</td>
          <td class="paramtype">const ros::TimerEvent &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00131">131</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a67078a482a34dacf7e81a473ab6037ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67078a482a34dacf7e81a473ab6037ff">&#9670;&nbsp;</a></span>fillMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fillMap </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>v_link_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, <a class="el" href="class_link.html">Link</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>map_arm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>model_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00272">272</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00300">300</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a6a843ed14dfff51a4094a78539a72dd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a843ed14dfff51a4094a78539a72dd5">&#9670;&nbsp;</a></span>setCollisionL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCollisionL </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>collision</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00110">110</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="aa1566e54f34c0a8af10e32a4363e25f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1566e54f34c0a8af10e32a4363e25f7">&#9670;&nbsp;</a></span>setCollisionR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setCollisionR </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>collision</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00116">116</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="aa1f2ec5e12c76b29e7c092d92cb1c22d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1f2ec5e12c76b29e7c092d92cb1c22d">&#9670;&nbsp;</a></span>toggleCD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool toggleCD </td>
          <td>(</td>
          <td class="paramtype">sofar_hbc_01::CollisionDetectionToggle::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sofar_hbc_01::CollisionDetectionToggle::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00123">123</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2f27eb8339393aaa28ee32195b47daae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f27eb8339393aaa28ee32195b47daae">&#9670;&nbsp;</a></span>baxter_urdf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string baxter_urdf = std::string(&quot;baxter_description&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00089">89</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="acf6658b7ebda3632b91e9018515a8740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6658b7ebda3632b91e9018515a8740">&#9670;&nbsp;</a></span>bxtr_armL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="class_link.html">Link</a>&gt; bxtr_armL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00097">97</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="ab6a6bb2883b0743eaba17cc35a82f054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6a6bb2883b0743eaba17cc35a82f054">&#9670;&nbsp;</a></span>bxtr_armR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="class_link.html">Link</a>&gt; bxtr_armR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00097">97</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="ad1cba1c8cb421d8b75f231b2aee95c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1cba1c8cb421d8b75f231b2aee95c58">&#9670;&nbsp;</a></span>bxtr_bxtr_dist_th_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float bxtr_bxtr_dist_th_ = 0.08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00099">99</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="aa7438bc5a2b0cb930761b4660481c553"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7438bc5a2b0cb930761b4660481c553">&#9670;&nbsp;</a></span>bxtr_wrist_ext_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double bxtr_wrist_ext_len = 0.2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00092">92</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a5ae50959d250cf58b80a9a065f64f88a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ae50959d250cf58b80a9a065f64f88a">&#9670;&nbsp;</a></span>cd_on_L</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cd_on_L = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00104">104</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="ac396ceb6e9dfd216671c7a63f7cff1c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac396ceb6e9dfd216671c7a63f7cff1c9">&#9670;&nbsp;</a></span>cd_on_R</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cd_on_R = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00105">105</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="abf4ff1631660b599e319608e6bfffd9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4ff1631660b599e319608e6bfffd9b">&#9670;&nbsp;</a></span>check_period_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const double check_period_ = 0.02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00090">90</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a9cd4953d258da9936fc9333d9015ba76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd4953d258da9936fc9333d9015ba76">&#9670;&nbsp;</a></span>client_cd_res_L</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceClient client_cd_res_L</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00108">108</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a5bbb17b63b258cc7bc57b108e5a40a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bbb17b63b258cc7bc57b108e5a40a0f">&#9670;&nbsp;</a></span>client_cd_res_R</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceClient client_cd_res_R</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00108">108</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a71bdf824483039adbb781e5e15b13113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71bdf824483039adbb781e5e15b13113">&#9670;&nbsp;</a></span>human_arms</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="class_link.html">Link</a>&gt; human_arms</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00097">97</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a392b9de5460150db591e64755a009629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392b9de5460150db591e64755a009629">&#9670;&nbsp;</a></span>human_bxtr_dist_th_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const float human_bxtr_dist_th_ = 0.07</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00098">98</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a0c4c3619b251c2e2cc261235d2f73c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4c3619b251c2e2cc261235d2f73c99">&#9670;&nbsp;</a></span>human_urdf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string human_urdf = std::string(&quot;human_description&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00088">88</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="aeed98eefe5cb906184a9764ba31bd41f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeed98eefe5cb906184a9764ba31bd41f">&#9670;&nbsp;</a></span>mngr_bxtrL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;fcl::BroadPhaseCollisionManagerf&gt; mngr_bxtrL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00100">100</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a76791c8d8556befe58042830c067d93c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76791c8d8556befe58042830c067d93c">&#9670;&nbsp;</a></span>mngr_bxtrR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;fcl::BroadPhaseCollisionManagerf&gt; mngr_bxtrR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00100">100</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a07d55ae02f8225e93f499aac2bb9b78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d55ae02f8225e93f499aac2bb9b78c">&#9670;&nbsp;</a></span>mngr_human</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;fcl::BroadPhaseCollisionManagerf&gt; mngr_human</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00100">100</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a3e4d4de383cc0ee789b1c0e7102e359b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4d4de383cc0ee789b1c0e7102e359b">&#9670;&nbsp;</a></span>stop_pub</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher stop_pub</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00102">102</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="a43c59a6362c45b755bbda185a496d6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c59a6362c45b755bbda185a496d6a4">&#9670;&nbsp;</a></span>tfBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tf2_ros::Buffer tfBuffer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00094">94</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
<a id="ab3b34afe273f558ccefecf3dfe0534c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b34afe273f558ccefecf3dfe0534c4">&#9670;&nbsp;</a></span>tfListener</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;tf2_ros::TransformListener&gt; tfListener</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="collision__detection_8cpp_source.html#l00095">95</a> of file <a class="el" href="collision__detection_8cpp_source.html">collision_detection.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
